{"version":3,"sources":["logo.svg","supabase.js","components/table-cell.js","components/table.js","hooks/use-property-profiles.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","supabase","createClient","TableCell","props","colHeader","row","component","react_default","a","createElement","accessor","href","url","price","toString","replace","columns","Header","table","_usePropertyProfiles","initialState","_useState","useState","_useState2","Object","slicedToArray","profiles","setProfiles","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","_getProfiles","asyncToGenerator","regenerator_default","mark","_callee","profilesRequest","wrap","_context","prev","next","client","from","select","sent","data","stop","apply","this","arguments","usePropertyProfiles","_usePropertyProfiles2","getProfiles","sortProperty","setSortProperty","sortDirection","setSortDirection","pageNumber","_useState7","_useState8","filteredProfiles","setFilteredProfiles","_useState9","_useState10","filterByPoa","setFilterByPoa","_useState11","_useState12","filterByAddress","setFilterByAddress","_useState13","_useState14","filterByMaxPrice","setFilterByMaxPrice","sortClick","useEffect","filtered","filter","i","indexOf","find","pr","address","toLowerCase","sorted","sort","first","second","Fragment","onClick","onChange","e","value","target","placeholder","type","parseInt","map","column","j","key","bind","k","App","className","reportWebVitals","onPerfEntry","Function","then","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6b9e8dc8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.06e73328.svg\";","import {createClient} from '@supabase/supabase-js';\r\nconst anonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYW5vbiIsImlhdCI6MTYzMjU3NTg5OCwiZXhwIjoxOTQ4MTUxODk4fQ.PCd4jiJmZkLrMeA3qg6ry8Ocl1iAf1HjdcNFtpGZSzI\";\r\n\r\nconst supabase = createClient(\"https://fvmqujwsitkcejuauyqf.supabase.co\", anonKey);\r\n\r\n\r\n\r\nexport default supabase;","import React from 'react';\r\n\r\nexport default function TableCell(props){\r\n    const {colHeader, row} = props;\r\n    const AddressRow = ()=>(<a href={row.url}>{row[colHeader.accessor]}</a>);\r\n    const DefaultRow = ()=>(<p>{row[colHeader.accessor]}</p>);\r\n    const PriceRow = ()=>{\r\n        function numberWithCommas(x) { return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ','); }\r\n        const price = row[colHeader.accessor];\r\n        return (<p>{price ? numberWithCommas(price): \"\"}</p>)\r\n    }\r\n    // const ImageRow = ()=>row[colHeader.accessor].length>0 ? (<img style={{height:\"80px\"}} src={row[colHeader.accessor][0]}/>) : \"\";\r\n    let component = DefaultRow;\r\n    if(colHeader.accessor==\"address\") component=AddressRow;\r\n    if(colHeader.accessor==\"price\" || colHeader.accessor==\"pricePerAcre\") component=PriceRow;\r\n    // if(colHeader.accessor==\"pictures\") component=ImageRow;\r\n    return (\r\n        <td>\r\n            {component()}\r\n            \r\n        </td>\r\n    )\r\n}","\r\nimport React, {useEffect, useState} from \"react\";\r\nimport usePropertyProfiles from \"../hooks/use-property-profiles\";\r\nimport TableCell from \"./table-cell\";\r\nconst columns = [\r\n    {\r\n      Header: \"Address\",\r\n      accessor: \"address\",\r\n    },\r\n    {\r\n      Header: \"Acres\",\r\n      accessor: \"acres\",\r\n    },\r\n    {\r\n      Header: \"Price\",\r\n      accessor: \"price\",\r\n    },\r\n    {\r\n      Header: \"Price Per Acre\",\r\n      accessor: \"pricePerAcre\",\r\n    },\r\n    // {\r\n    //     Header: \"Image\",\r\n    //     accessor: \"pictures\"\r\n    // }\r\n  ];\r\n\r\n  \r\nconst PAGE_SIZE=10;\r\nexport default function table(){\r\n    const [profiles, isLoading, error, getProfiles] = usePropertyProfiles([]);\r\n    const [sortProperty, setSortProperty] = useState(\"pricePerAcre\");\r\n    const [sortDirection, setSortDirection] = useState(-1);//-1 is descending\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    const [filteredProfiles, setFilteredProfiles] = useState([]);\r\n    const [filterByPoa, setFilterByPoa] = useState(false);\r\n    const [filterByAddress, setFilterByAddress] = useState(\"\");\r\n    const [filterByMaxPrice, setFilterByMaxPrice] = useState(0);\r\n    useEffect(()=>{\r\n        //sort profiles, then setFilteredProfiles\r\n        const sortFn = (first, second)=>{\r\n            if(first[sortProperty]==second[sortProperty])return 0;\r\n            if(!first[sortProperty])return 1;\r\n            if(!second[sortProperty])return -1;\r\n            return first[sortProperty] > second[sortProperty] ? 1*sortDirection : -1*sortDirection;\r\n        };\r\n        // const paged = sorted.slice(0, pageNumber*PAGE_SIZE);\r\n        let filtered = profiles.filter((p,i)=>profiles.indexOf(profiles.find(pr=>pr.url===p.url))===i); //dedupe\r\n        if(filterByPoa)filtered=filtered.filter(p=>!p.price);// filters out anything with a price, remaining is POA\r\n        if(filterByAddress)filtered=filtered.filter(p=>p.address.toLowerCase().indexOf(filterByAddress.toLowerCase())>-1);\r\n        if(filterByMaxPrice)filtered=filtered.filter(p=>!p.price || p.price<=filterByMaxPrice);\r\n        const sorted = filtered.sort(sortFn);\r\n        setFilteredProfiles(sorted);\r\n    }, [profiles, sortProperty, sortDirection, pageNumber, filterByPoa,filterByAddress,filterByMaxPrice]);\r\n    useEffect(() => {\r\n        getProfiles();\r\n    }, []);\r\n    function sortClick(){\r\n        if(sortProperty!=this)return setSortProperty(this) && setSortDirection(-1);\r\n        setSortDirection(sortDirection*-1);\r\n    }\r\n    function filterByPoaClick(){\r\n        setFilterByPoa(!filterByPoa);\r\n    }\r\n    function addressSearchChange(e){\r\n        const value = e.target.value.replace('bt', '')\r\n        setFilterByAddress(\"bt\"+value);\r\n    }\r\n    function maxPriceChange(e){\r\n        setFilterByMaxPrice(parseInt(e.target.value));\r\n    }\r\n    return (\r\n        <>\r\n        <button onClick={filterByPoaClick}>{filterByPoa ? \"filtering by poa\" : \"filter by poa\"}</button>\r\n        <input onChange={addressSearchChange} placeholder=\"BT search, just type number\"></input>\r\n        <input type=\"number\" onChange={maxPriceChange} placeholder=\"max price\"></input>\r\n        <table>\r\n        {isLoading ? (<h1>Loading..</h1>) : \"\"}\r\n      <thead>\r\n          <tr>\r\n            {columns.map((column, j) => (\r\n              <th key={j} onClick={sortClick.bind(column.accessor)}>{column[\"Header\"]}</th>\r\n            ))}\r\n          </tr>\r\n      </thead>\r\n      <tbody>\r\n        {filteredProfiles.map((row, i) => {\r\n            return (\r\n                <tr key={i}>\r\n                    {columns.map((colHeader, k)=><TableCell key={k} colHeader={colHeader} row={row}></TableCell>)}\r\n                </tr>\r\n            );\r\n        })}\r\n      </tbody>\r\n    </table>\r\n    </>\r\n  );\r\n}","\r\nimport client from \"../supabase\";\r\nimport react, {useState} from \"react\";\r\n\r\nexport default function usePropertyProfiles(initialState){\r\n    const [profiles, setProfiles] = useState(initialState);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    \r\n    function supabaseGetProfiles(){\r\n        return client.from(\"land\").select();\r\n    }\r\n\r\n    async function getProfiles(){\r\n        setIsLoading(true);\r\n        setError(null);\r\n        const profilesRequest = await supabaseGetProfiles();\r\n        if(profilesRequest.data){\r\n            setProfiles(profilesRequest.data);\r\n        } else {\r\n            setError(profilesRequest.error);\r\n        }\r\n        setIsLoading(false);\r\n    }\r\n\r\n    return [profiles, isLoading, error, getProfiles]\r\n}","import logo from './logo.svg';\r\nimport Table from './components/table';\r\nimport React from \"react\";\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <Table></Table>\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}